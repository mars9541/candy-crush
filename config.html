<!DOCTYPE html>
<html style='height:100%;
  background: linear-gradient(#0080ff 0%,#79e1ff 70%,#009e00 71%,#00ff00 100%);'>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
</head>
<body>
<p id='detectRenderer'>Unable to detect Phaser renderer ;-(</p>
<p>Change Phaser renderer to
  <select id='choice'>
    <option value="CANVAS">Phaser.CANVAS</option>
    <option value="WEBGL">Phaser.WEBGL</option>
    <option value="AUTO">Phaser.AUTO</option>
    <option value="HEADLESS">Phaser.HEADLESS</option>
  </select>
</p>
<p>Resolution: </p>
<p>
  <input type="range" min='0.5' max='4' step='0.25' id='resolution'>
  <output id='res'>0</output>
</p>
<p><input value="OK" type="button" onclick='setRenderer()'></p>
<script>
localStorage.removeItem('ShapeClear.renderer');
var detectRenderer = document.getElementById('detectRenderer');
var choiceBox = document.getElementById('choice');
var renderer = localStorage.getItem('ShapeClear_renderer');
var resIn = document.getElementById('resolution');
var resOut = document.getElementById('res');
var resolution = localStorage.getItem('ShapeClear_resolution');
if (renderer) {
    detectRenderer.innerText = 'You are using ' + renderer + ' as Phaser renderer';
}
else {
    detectRenderer.innerText = 'You have not played Shape Clear yet';
}
if (resolution) {
    resIn.value = resOut.value = resolution;
}
else {
    resIn.value = resOut.value = 1;
}
resIn.max = devicePixelRatio;
resIn.addEventListener('input', function() {
    resOut.value = resIn.value;
});
function setRenderer() {
    localStorage.setItem('ShapeClear_renderer', choiceBox.value);
    localStorage.setItem('ShapeClear_resolution', resIn.value);
    setTimeout(function(){
      location.assign('index.html');
    }, 500);
}
</script>
</body>
</html>
